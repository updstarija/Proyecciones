
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_LayoutPage.cshtml";
}
<div class="row">
    <div class="col-sm-12">
        <div class="card mb-3">
            <div class="card-body text-center" style="height:550px">
                <h5 class="card-title text-primary">PROYECCIONES POR CARRERA</h5>
                <canvas id="myChart" style="width:100%; height:500px"></canvas>
            </div>
        </div>
    </div>
</div>

<!-- Button trigger modal -->
<button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">
    Launch demo modal
</button>

<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                ...
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary">Save changes</button>
            </div>
        </div>
    </div>
</div>

<script>
    $(document).ready(function () {
        Statistics();
    });

    function Statistics() {
        $("#estadisticas").html("");
        $.getJSON('@Url.Action("Estadisticas", "Reporte")', function (o) {
            const ctx = document.getElementById('myChart').getContext('2d');
            const myChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['Proyecciones por carrera'],
                    datasets: [
                        {
                            label: 'ADM. DE EMPRESAS',
                            data: [o.admEmpresas],
                            backgroundColor: [
                                'rgba(255, 99, 132, 0.2)'
                            ],
                            borderColor: [
                                'rgba(255, 99, 132, 1)'
                            ],
                            borderWidth: 1
                        },
                        {
                            label: 'COMUNICACIÓN SOCIAL',
                            data: [o.comuSocial],
                            backgroundColor: [
                                'rgba(54, 162, 235, 0.2)'
                            ],
                            borderColor: [
                                'rgba(54, 162, 235, 1)'
                            ],
                            borderWidth: 1
                        },
                        {
                            label: 'CONTADURÍA PÚBLICA',
                            data: [o.contPublica],
                            backgroundColor: [
                                'rgba(255, 206, 86, 0.2)'
                            ],
                            borderColor: [
                                'rgba(255, 206, 86, 1)'
                            ],
                            borderWidth: 1
                        },
                        {
                            label: 'DERECHO',
                            data: [o.derecho],
                            backgroundColor: [
                                'rgba(75, 192, 192, 0.2)'
                            ],
                            borderColor: [
                                'rgba(75, 192, 192, 1)'
                            ],
                            borderWidth: 1
                        },
                        {
                            label: 'ING. CIVIL',
                            data: [o.civil],
                            backgroundColor: [
                                'rgba(153, 102, 255, 0.2)'
                            ],
                            borderColor: [
                                'rgba(153, 102, 255, 1)'
                            ],
                            borderWidth: 1
                        },
                        {
                            label: 'ING. COMERCIAL',
                            data: [o.comercial],
                            backgroundColor: [
                                'rgba(255, 159, 64, 0.2)'
                            ],
                            borderColor: [
                                'rgba(255, 159, 64, 1)'
                            ],
                            borderWidth: 1
                        },
                        {
                            label: 'ING. DE SISTEMAS ',
                            data: [o.sistemas],
                            backgroundColor: [
                                'rgba(236, 112, 99, 0.2)'
                            ],
                            borderColor: [
                                'rgba(236, 112, 99, 1)'
                            ],
                            borderWidth: 1
                        },
                        {
                            label: 'ING. AMBIENTAL',
                            data: [o.ambiental],
                            backgroundColor: [
                                'rgba(175, 122, 197, 0.2)'
                            ],
                            borderColor: [
                                'rgba(175, 122, 197, 1)'
                            ],
                            borderWidth: 1
                        },
                        {
                            label: 'ING. PETROLERA',
                            data: [o.petrolera],
                            backgroundColor: [
                                'rgba(84, 153, 199, 0.2)'
                            ],
                            borderColor: [
                                'rgba(84, 153, 199, 1)'
                            ],
                            borderWidth: 1
                        },
                        {
                            label: 'ING. REDES Y TELECOMUNICACIONES',
                            data: [o.redes],
                            backgroundColor: [
                                'rgba(19, 141, 117, 0.2)'
                            ],
                            borderColor: [
                                'rgba(19, 141, 117, 1)'
                            ],
                            borderWidth: 1
                        },
                        {
                            label: 'ING. INDUSTRIAL',
                            data: [o.industrial],
                            backgroundColor: [
                                'rgba(244, 208, 63, 0.2)'
                            ],
                            borderColor: [
                                'rgba(244, 208, 63, 1)'
                            ],
                            borderWidth: 1
                        },
                        {
                            label: 'PSICOLOGÍA',
                            data: [o.psicologia],
                            backgroundColor: [
                                'rgba(93, 109, 126, 0.2)'
                            ],
                            borderColor: [
                                'rgba(93, 109, 126, 1)'
                            ],
                            borderWidth: 1
                        }
                    ]
                },
                options: {
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });
        });
    }

</script>

